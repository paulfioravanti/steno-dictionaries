#!/bin/bash

# An SCPT file is a compiled script created with Apple's Script Editor.
# It is written in AppleScript, an automation scripting language used by Mac
# computers. SCPT files may be written manually or generated by recording
# actions.
# REF: What is an .scpt file: https://fileinfo.com/extension/scpt

SCPT_TARGET_DIR="${HOME}/Library/Script Libraries/steno-dictionaries"

find . -name "*.applescript" |
while read -r applescript_file; do
  scpt_filename="$(echo "$applescript_file" | cut -d'.' -f1,2).scpt"
  osacompile -o "$scpt_filename" "$applescript_file"
done

for scpt_file in "$STENO_DICTIONARIES"/src/command/*.scpt; do
  cp "$scpt_file" "$SCPT_TARGET_DIR"
done
